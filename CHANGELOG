# CHANGELOG

## v4.0.0 (Breking change)

- (breaking) created variables externalConfigMapFiles and externalConfigMapValues to load values from external config maps
  - formelly called envConfigMapExternals, externalConfigMap
- (breaking) providedVolumeMount (formelly fileShare)
  - has now envSecrets child value containing secrets needed for volume mount
- (breaking) configMapFromFile (formelly fileConfig)
- (breaking) tmpVolumeMount, now is a list of paths

## v3.0.0 (Breking change)

- deployment
  - moved items at root level
  - removed create flag
  - added default port 8080
- service
  - added default port 8080
- ingress
  - defaults to servicePort 8080 and path "/app(/|$)(.*)"
- secretProviderClass
  - renamed to secretProvider
  - has now envSecrets and keyvault child values
- fileConfig
  - renamed to configMapFromFile
- fileShare
  - renamed to providedVolumeMount
  - has now envSecrets child value containing secrets needed for volume mount
- envConfigMapExternals
  - renamed to externalConfigMap
- readinessProbe/livenessProbe default to http
- securityContext
  - defaults to readOnlyRootFilesystem: true
- canaryDelivery
  - containts only ingress data
  - defaults to header X-Canary:pagopa only
  - header,bluegreen and weightPercent can be set separately

added tmpVolumeMount

## v2.0.0 (Breking change)

fix:

- deployment
  - removed crt mounter to avoid to have a replication of containers
  - flag to allow force deployment: usefull for deployment with same image but different content (e.g. latest)
- ingress:
  - added field `proxyBodySize` to allow to set `nginx.ingress.kubernetes.io/proxy-body-size` annotation
  - added field `annotations` to allow to put extra annotations not present into the ingress and canary ingress
  - (breaking) now you need to use the field `ingress.servicePort` to define the port destination for ingress
- service:
  - (breaking) now service is a list of service ports
